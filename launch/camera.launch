<launch>
    <arg name="device" />
    <arg name="camera_name" />
    <arg name="image_width" />
    <arg name="image_height" />
_   <arg name="image_timestamp_offset" />

    <group ns="$(arg camera_name)">
        <node name="gscam_driver_v4l" pkg="gscam" type="gscam">
            <param name="camera_name" value="$(arg camera_name)"/>
            <param name="gscam_config" value="
                  v4l2src device=$(arg device) do-timestamp=true
                  ! image/jpeg, width=$(arg image_width), height=$(arg image_height), framerate=30/1
                ! nvjpegdec
                ! video/x-raw,format=I420
                ! nvvidconv
                ! video/x-raw(memory:NVMM),format=RGBA
                ! nvvidconv
                ! video/x-raw,format=RGBA" />

            <param name="use_gst_timestamps" value="true"/>
            <param name="frame_id" value="$(arg camera_name)_optical"/>
            <param name="sync_sink" value="false"/>
            <param name="timestamp_offset" value="$(arg image_timestamp_offset)"/>
        </node>
    </group>
</launch>
